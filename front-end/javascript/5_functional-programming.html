<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.26">
    <title>函式程式設計 | Louis's blog</title><meta name="description" content="這是一個web開發者的部落格">
    <link rel="preload" href="/js-novel/assets/js/runtime~app.b0db1a1b.js" as="script"><link rel="preload" href="/js-novel/assets/css/styles.86296c59.css" as="style"><link rel="preload" href="/js-novel/assets/js/960.1dfde8f3.js" as="script"><link rel="preload" href="/js-novel/assets/js/app.431a70d4.js" as="script">
    <link rel="stylesheet" href="/js-novel/assets/css/styles.86296c59.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/js-novel/" class=""><!----><span class="site-name">Louis&#39;s blog</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="前端"><span class="title">前端</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="前端"><span class="title">前端</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/js-novel/front-end/javascript/0_how-browsers-work.md" class="nav-link" aria-label="javascript"><!--[--><!--]--> javascript <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/js-novel/front-end/react/index.md" class="nav-link" aria-label="react"><!--[--><!--]--> react <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><a href="/js-novel/algorithm/0_123.md" class="nav-link" aria-label="演算法"><!--[--><!--]--> 演算法 <!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/louis61619/js-novel.git" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="前端"><span class="title">前端</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="前端"><span class="title">前端</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/js-novel/front-end/javascript/0_how-browsers-work.md" class="nav-link" aria-label="javascript"><!--[--><!--]--> javascript <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/js-novel/front-end/react/index.md" class="nav-link" aria-label="react"><!--[--><!--]--> react <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><a href="/js-novel/algorithm/0_123.md" class="nav-link" aria-label="演算法"><!--[--><!--]--> 演算法 <!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/louis61619/js-novel.git" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><a href="/js-novel/front-end/javascript/0_how-browsers-work.html" class="nav-link sidebar-heading sidebar-item" aria-label="瀏覽器運作原理"><!--[--><!--]--> 瀏覽器運作原理 <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/js-novel/front-end/javascript/1_closure.html" class="nav-link sidebar-heading sidebar-item" aria-label="閉包"><!--[--><!--]--> 閉包 <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/js-novel/front-end/javascript/2_this.html" class="nav-link sidebar-heading sidebar-item" aria-label="this"><!--[--><!--]--> this <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/js-novel/front-end/javascript/3_arguments.html" class="nav-link sidebar-heading sidebar-item" aria-label="arguments 和 array-like"><!--[--><!--]--> arguments 和 array-like <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/js-novel/front-end/javascript/4_call&amp;apply&amp;bind.html" class="nav-link sidebar-heading sidebar-item" aria-label="apply、call、bind"><!--[--><!--]--> apply、call、bind <!--[--><!--]--></a><!----><!--]--><!--[--><a aria-current="page" href="/js-novel/front-end/javascript/5_functional-programming.html" class="router-link-active router-link-exact-active nav-link router-link-active sidebar-heading sidebar-item active" aria-label="函式程式設計"><!--[--><!--]--> 函式程式設計 <!--[--><!--]--></a><ul class=""><li><!--[--><a aria-current="page" href="/js-novel/front-end/javascript/5_functional-programming.html#純函數-pure-function" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="純函數(Pure function)"><!--[--><!--]--> 純函數(Pure function) <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/js-novel/front-end/javascript/5_functional-programming.html#純函數案例" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="純函數案例："><!--[--><!--]--> 純函數案例： <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/js-novel/front-end/javascript/5_functional-programming.html#純函數的優勢" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="純函數的優勢"><!--[--><!--]--> 純函數的優勢 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/js-novel/front-end/javascript/5_functional-programming.html#柯里化-currying" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="柯里化(Currying)"><!--[--><!--]--> 柯里化(Currying) <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/js-novel/front-end/javascript/5_functional-programming.html#爲什麼需要柯里化" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="爲什麼需要柯里化"><!--[--><!--]--> 爲什麼需要柯里化 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/js-novel/front-end/javascript/5_functional-programming.html#實現一個對函數進行柯里化的函數" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="實現一個對函數進行柯里化的函數"><!--[--><!--]--> 實現一個對函數進行柯里化的函數 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/js-novel/front-end/javascript/5_functional-programming.html#組合函數-compose-function" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="組合函數(Compose function)"><!--[--><!--]--> 組合函數(Compose function) <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/js-novel/front-end/javascript/5_functional-programming.html#一個實現對傳入函數進行組合的函數" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="一個實現對傳入函數進行組合的函數"><!--[--><!--]--> 一個實現對傳入函數進行組合的函數 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li></ul><!--]--><!--[--><a href="/js-novel/front-end/javascript/6_object&amp;prototype.html" class="nav-link sidebar-heading sidebar-item" aria-label="物件和原型"><!--[--><!--]--> 物件和原型 <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/js-novel/front-end/javascript/7_prototype-chain&amp;Inhertitance.html" class="nav-link sidebar-heading sidebar-item" aria-label="原型鏈和繼承"><!--[--><!--]--> 原型鏈和繼承 <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/js-novel/front-end/javascript/8_es6&amp;class.html" class="nav-link sidebar-heading sidebar-item" aria-label="ES6 和 Class"><!--[--><!--]--> ES6 和 Class <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/js-novel/front-end/javascript/9_es6&amp;new-type.html" class="nav-link sidebar-heading sidebar-item" aria-label="ES6 中新增的數據類型"><!--[--><!--]--> ES6 中新增的數據類型 <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/js-novel/front-end/javascript/10_es6-syntactic-sugar.html" class="nav-link sidebar-heading sidebar-item" aria-label="ES6 語法糖"><!--[--><!--]--> ES6 語法糖 <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/js-novel/front-end/javascript/11_var&amp;let&amp;const.html" class="nav-link sidebar-heading sidebar-item" aria-label="var、let、const"><!--[--><!--]--> var、let、const <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/js-novel/front-end/javascript/12_es7-es12.html" class="nav-link sidebar-heading sidebar-item" aria-label="ES7~ES12"><!--[--><!--]--> ES7~ES12 <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/js-novel/front-end/javascript/13_strict-mode.html" class="nav-link sidebar-heading sidebar-item" aria-label="Strict Mode"><!--[--><!--]--> Strict Mode <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/js-novel/front-end/javascript/14_supplement.html" class="nav-link sidebar-heading sidebar-item" aria-label="補充"><!--[--><!--]--> 補充 <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/js-novel/front-end/javascript/15_proxy&amp;reflect.html" class="nav-link sidebar-heading sidebar-item" aria-label="Proxy 和 Reflect"><!--[--><!--]--> Proxy 和 Reflect <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/js-novel/front-end/javascript/16_promise.html" class="nav-link sidebar-heading sidebar-item" aria-label="Promise"><!--[--><!--]--> Promise <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/js-novel/front-end/javascript/17_iterator.html" class="nav-link sidebar-heading sidebar-item" aria-label="Iterator"><!--[--><!--]--> Iterator <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/js-novel/front-end/javascript/18_generator.html" class="nav-link sidebar-heading sidebar-item" aria-label="生成器"><!--[--><!--]--> 生成器 <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/js-novel/front-end/javascript/19_async-await.html" class="nav-link sidebar-heading sidebar-item" aria-label="async、await"><!--[--><!--]--> async、await <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/js-novel/front-end/javascript/20_event-loop.html" class="nav-link sidebar-heading sidebar-item" aria-label="Event loop"><!--[--><!--]--> Event loop <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/js-novel/front-end/javascript/21_handle-error.html" class="nav-link sidebar-heading sidebar-item" aria-label="錯誤處理"><!--[--><!--]--> 錯誤處理 <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/js-novel/front-end/javascript/22_module.html" class="nav-link sidebar-heading sidebar-item" aria-label="模塊化"><!--[--><!--]--> 模塊化 <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/js-novel/front-end/javascript/23_package-manager.html" class="nav-link sidebar-heading sidebar-item" aria-label="套件管理工具"><!--[--><!--]--> 套件管理工具 <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/js-novel/front-end/javascript/24_json.html" class="nav-link sidebar-heading sidebar-item" aria-label="JSON"><!--[--><!--]--> JSON <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/js-novel/front-end/javascript/25_web-storage.html" class="nav-link sidebar-heading sidebar-item" aria-label="WebStorage"><!--[--><!--]--> WebStorage <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/js-novel/front-end/javascript/26_IndexDB.html" class="nav-link sidebar-heading sidebar-item" aria-label="IndexDB"><!--[--><!--]--> IndexDB <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/js-novel/front-end/javascript/27_cookie.html" class="nav-link sidebar-heading sidebar-item" aria-label="Cookie"><!--[--><!--]--> Cookie <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/js-novel/front-end/javascript/28_BOM.html" class="nav-link sidebar-heading sidebar-item" aria-label="BOM"><!--[--><!--]--> BOM <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/js-novel/front-end/javascript/29_DOM.html" class="nav-link sidebar-heading sidebar-item" aria-label="DOM"><!--[--><!--]--> DOM <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/js-novel/front-end/javascript/30_throttle&amp;debounce.html" class="nav-link sidebar-heading sidebar-item" aria-label="防抖（debounce）和節流（throttle）"><!--[--><!--]--> 防抖（debounce）和節流（throttle） <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/js-novel/front-end/javascript/31_deep-copy.html" class="nav-link sidebar-heading sidebar-item" aria-label="Deep copy"><!--[--><!--]--> Deep copy <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/js-novel/front-end/javascript/32_event-bus.html" class="nav-link sidebar-heading sidebar-item" aria-label="事件總線"><!--[--><!--]--> 事件總線 <!--[--><!--]--></a><!----><!--]--><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="函式程式設計" tabindex="-1"><a class="header-anchor" href="#函式程式設計" aria-hidden="true">#</a> 函式程式設計</h1><p>函數式程式設計（ Funtional Programming ）又稱函數式編程，JavaScript 具備了函數式編程的幾種重要的特徵，而許多框架比如：React，都非常受到函數式編程這個概念的影響，所以了解一下函數式編程的幾種基本概念是非常重要的。</p><h2 id="純函數-pure-function" tabindex="-1"><a class="header-anchor" href="#純函數-pure-function" aria-hidden="true">#</a> 純函數(Pure function)</h2><p>不論是在 React 中使用 React hook、Redux 或是在 Vue3 中使用 composition api，純函數的概念都相當重要。</p><p>純函數在維基中的定義為：</p><ul><li>此函數在相同的輸入值時，需產生相同的輸出。</li><li>函數的輸出和輸入值以外的其他隱藏信息或<a href="https://zh.wikipedia.org/w/index.php?title=%E7%A8%8B%E5%BC%8F%E7%8B%80%E6%85%8B&amp;action=edit&amp;redlink=1" target="_blank" rel="noopener noreferrer">狀態<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>無關，也和由<a href="https://zh.wikipedia.org/wiki/I/O" target="_blank" rel="noopener noreferrer">I/O<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>設備產生的外部輸出無關。</li><li>該函數不能有語義上可觀察的<a href="https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E5%89%AF%E4%BD%9C%E7%94%A8" target="_blank" rel="noopener noreferrer">函數副作用<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>，諸如「觸發事件」，使輸出設備輸出，或更改輸出值以外物件的內容等。</li></ul><p>可以簡單總結一下：</p><ul><li>確定的輸入，一定會產生確定的輸出。</li><li>函數在執行的過程中，不能產生<strong>副作用</strong>。</li></ul><blockquote><p>副作用(side effect)：在計算機科學中，表示一個函數在執行時，除了返回值之外，還產生了一些其他附加的影響，比如修改了全局變數、修改傳入參數的值等等。</p></blockquote><h3 id="純函數案例" tabindex="-1"><a class="header-anchor" href="#純函數案例" aria-hidden="true">#</a> 純函數案例：</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span> num2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num1 <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">+</span> num2 <span class="token operator">*</span> <span class="token number">3</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>函數 foo 遵循純函數的規則，確定的輸入產生確定的輸出，在執行過程中不產生副作用。</p><p>非純函數案例：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">&#39;abc&#39;</span>
<span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span> num2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  a <span class="token operator">=</span> <span class="token string">&#39;bca&#39;</span>
  <span class="token keyword">return</span> num1 <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">+</span> num2 <span class="token operator">*</span> <span class="token number">3</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>可以看到函數 bar 明顯有對函數外部的變數進行更動，這就明顯不是純函數。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">baz</span><span class="token punctuation">(</span><span class="token parameter">info</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  info<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">100</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;Louis&#39;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">19</span> <span class="token punctuation">}</span>
<span class="token function">baz</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>函數 baz 對引用的參數進行了修改，這也並非純函數，如果要遵守純函數的設計原則，應該是：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">baz</span><span class="token punctuation">(</span><span class="token parameter">info</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>info<span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">100</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>透過解構語法產生新的物件，再對新的物件進行修改。</p><h3 id="純函數的優勢" tabindex="-1"><a class="header-anchor" href="#純函數的優勢" aria-hidden="true">#</a> 純函數的優勢</h3><p>純函數在使用上因為可以確保不會有任何函數外部的值被調用，所以開發者只需要關心函數的輸入，而輸入的內容在純函數中也是不被允許修改的，當輸入輸出確定，對開發者的心智負擔也會更低，在大型軟件開發時更具有優勢。</p><p>現代前端框架中，比如 React，框架要求使用者在進行設計的時候，函數組件必須是個純函數：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">HelloWorld</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  props<span class="token punctuation">.</span>info <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>像是以上直接對 props 修改的操作，在 React 中是不被允許的。</p><h2 id="柯里化-currying" tabindex="-1"><a class="header-anchor" href="#柯里化-currying" aria-hidden="true">#</a> 柯里化(Currying)</h2><p>維基百科中對柯理化的定義如下：</p><p><strong>柯里化</strong>是把接受多個<a href="https://zh.wikipedia.org/wiki/%E5%8F%83%E6%95%B8_(%E7%A8%8B%E5%BC%8F%E8%A8%AD%E8%A8%88)" target="_blank" rel="noopener noreferrer">參數<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>的<a href="https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0" target="_blank" rel="noopener noreferrer">函數<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>變換成接受一個單一參數（最初函數的第一個參數）的函數，並且返回接受餘下的參數而且返回結果的新函數的技術。</p><p>在直覺上，柯里化聲稱「如果你固定某些參數，你將得到接受餘下參數的一個函數」。</p><p>來舉一個函數柯里化的過程做為例子：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y <span class="token operator">+</span> z
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>如果要對 add 函數進行柯里化，可以修改成：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">add1</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">z</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> x <span class="token operator">+</span> y <span class="token operator">+</span> z
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>如果覺得要不斷 return 非常麻煩，以上的 add1 函數其實等價於：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">add2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token parameter">y</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token parameter">z</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> x <span class="token operator">+</span> y <span class="token operator">+</span> z
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>相對於一般的函數直接傳入參數，柯里化後的函數是一層層將參數傳入的：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token function">add2</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="爲什麼需要柯里化" tabindex="-1"><a class="header-anchor" href="#爲什麼需要柯里化" aria-hidden="true">#</a> 爲什麼需要柯里化</h3><p>如果將函數柯里化，可以將一個大的複雜函數拆解成不同的<strong>單一職責</strong>的小函數並返回，這些小函數更有利於<strong>重複使用</strong>。</p><p>如果有一個函數需要對 x, y, z 三個參數進行計算：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  x <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">+</span> <span class="token number">2</span>
  y <span class="token operator">=</span> y <span class="token operator">*</span> <span class="token number">2</span>
  z <span class="token operator">=</span> z <span class="token operator">*</span> z
  <span class="token keyword">return</span> x <span class="token operator">+</span> y <span class="token operator">+</span> z
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>我們可以將 add 函數拆解成不同的只有單一職則的函數：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  x <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">+</span> x
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    y <span class="token operator">=</span> y <span class="token operator">*</span> <span class="token number">2</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">z</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      z <span class="token operator">=</span> z <span class="token operator">*</span> z
      <span class="token keyword">return</span> x <span class="token operator">+</span> y <span class="token operator">+</span> z
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>這樣做可以不斷的利用返回的函數，比如對每一次返回的函數進行賦值：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 0+2=2 x:2</span>
<span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

<span class="token comment">// 3*2=6 y:6</span>
<span class="token keyword">const</span> baz <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>

<span class="token comment">// 4*4=16 x+y+z=24</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">baz</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>這樣就可以重複使用 foo 函數：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 4*2=6 y:8</span>
<span class="token keyword">const</span> bar <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>

<span class="token comment">// 5*5=25 x+y+z=35</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">bar</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="實現一個對函數進行柯里化的函數" tabindex="-1"><a class="header-anchor" href="#實現一個對函數進行柯里化的函數" aria-hidden="true">#</a> 實現一個對函數進行柯里化的函數</h3><p>透過以下這樣一個簡練的函數能對一般的函數進行柯里化：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">myCurring</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">curried</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 判斷fn的函數和當前傳入的函數數量是否一致</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>args<span class="token punctuation">.</span>length <span class="token operator">&gt;=</span> fn<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 要使用apply才能將外層綁定的this傳入</span>
      <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// 使用遞歸重複調用curried，重點是將下次傳入的參數拼接上次傳入的參數</span>
      <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">curried</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">...</span>args<span class="token punctuation">,</span> <span class="token operator">...</span>args2<span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> curried
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>例如將這個 add 函數透過 myCurring 函數進行轉化，就可以使用柯里化的方式調用：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  x <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">+</span> <span class="token number">2</span>
  y <span class="token operator">=</span> y <span class="token operator">*</span> <span class="token number">2</span>
  z <span class="token operator">=</span> z <span class="token operator">*</span> z
  <span class="token keyword">return</span> x <span class="token operator">+</span> y <span class="token operator">+</span> z
<span class="token punctuation">}</span>

<span class="token keyword">const</span> curringAdd <span class="token operator">=</span> <span class="token function">myCurring</span><span class="token punctuation">(</span>add<span class="token punctuation">)</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">curringAdd</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span>

<span class="token comment">// 950</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="組合函數-compose-function" tabindex="-1"><a class="header-anchor" href="#組合函數-compose-function" aria-hidden="true">#</a> 組合函數(Compose function)</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">double</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num <span class="token operator">*</span> <span class="token number">2</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">square</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num <span class="token operator">**</span> <span class="token number">2</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>假設要對以上兩個函數連續進行調用，如下：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">square</span><span class="token punctuation">(</span><span class="token function">double</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>也可以寫一個函數返回一個新函數再調用：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">composeFn</span><span class="token punctuation">(</span><span class="token parameter">m<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">count</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token function">m</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> doubleAndSquare <span class="token operator">=</span> <span class="token function">composeFn</span><span class="token punctuation">(</span>double<span class="token punctuation">,</span> square<span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">doubleAndSquare</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>composeFn 就是一個組合函數。</p><h3 id="一個實現對傳入函數進行組合的函數" tabindex="-1"><a class="header-anchor" href="#一個實現對傳入函數進行組合的函數" aria-hidden="true">#</a> 一個實現對傳入函數進行組合的函數</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">myCompose</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>fns</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> fnsLength <span class="token operator">=</span> fns<span class="token punctuation">.</span>length
  <span class="token comment">// 判斷fns有沒有非函數</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> fnsLength<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> fns<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token string">&#39;function&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">&#39;Excepted arguments are function&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">compose</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> index <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">var</span> result <span class="token operator">=</span> fnsLength <span class="token operator">?</span> fns<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span> <span class="token operator">:</span> args
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">++</span>index <span class="token operator">&lt;</span> fnsLength<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      result <span class="token operator">=</span> fns<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> compose
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>同樣的利用以上這個函數能夠直接實現對函數進行組合：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">double</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num <span class="token operator">*</span> <span class="token number">2</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">square</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num <span class="token operator">**</span> <span class="token number">2</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> doubleAndSquare <span class="token operator">=</span> <span class="token function">myCompose</span><span class="token punctuation">(</span>double<span class="token punctuation">,</span> square<span class="token punctuation">)</span>

<span class="token comment">// 400</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">doubleAndSquare</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="nav-link external meta-item-label" href="https://github.com/louis61619/js-novel.git/edit/main/front-end/javascript/5_functional-programming.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page"><!--[--><!--]--> Edit this page <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><span class="meta-item-info">10/10/2022, 11:09:56 AM</span></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: louis61619@gmail.com">louis61619</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"> ← <a href="/js-novel/front-end/javascript/4_call&amp;apply&amp;bind.html" class="nav-link" aria-label="apply、call、bind"><!--[--><!--]--> apply、call、bind <!--[--><!--]--></a></span><span class="next"><a href="/js-novel/front-end/javascript/6_object&amp;prototype.html" class="nav-link" aria-label="物件和原型"><!--[--><!--]--> 物件和原型 <!--[--><!--]--></a> → </span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script src="/js-novel/assets/js/runtime~app.b0db1a1b.js" defer></script><script src="/js-novel/assets/js/960.1dfde8f3.js" defer></script><script src="/js-novel/assets/js/app.431a70d4.js" defer></script>
  </body>
</html>
